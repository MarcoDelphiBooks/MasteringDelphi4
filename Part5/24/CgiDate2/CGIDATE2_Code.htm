<HTML><HEAD>
<TITLE>Project: CGIDATE2.DPR</TITLE>
<META NAME="GENERATOR" CONTENT="PasToHTML[Marco Cantù]">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER><I>Marco Cant&ugrave; 1998, Mastering Delphi 4</I></CENTER>
<H1><CENTER>Project: CGIDATE2.DPR</CENTER></H1><HR>
<H3>Project Structure</H3><UL>
<LI> <A HREF=#CGIDATE2.DPR> CGIDATE2.DPR</A>
</UL>
<HR>
<A NAME=CGIDATE2.DPR><H3>CGIDATE2.DPR</H3></A>

<PRE>
 <B>program</B> CgiDate2;

 <FONT COLOR="#000080"><I>{$APPTYPE CONSOLE}</I></FONT>

 <B>uses</B>
   SysUtils;

 <B>begin</B>
   writeln (<I>'HTPP/1.0 200 OK'</I>);
   writeln (<I>'CONTENT-TYPE: TEXT/HTML'</I>);
   writeln;
   writeln (<I>'&lt;HTML&gt;&lt;HEAD&gt;'</I>);
   writeln (<I>'&lt;TITLE&gt;Time at this site&lt;/TITLE&gt;'</I>);
   writeln (<I>'&lt;/HEAD&gt;&lt;BODY&gt;'</I>);
   writeln (<I>'&lt;H1&gt;Time at this site&lt;/H1&gt;'</I>);
   writeln (<I>'&lt;HR&gt;'</I>);
   writeln (<I>'&lt;H4&gt;'</I>);

   <B>if</B> ParamCount &gt; 0 <B>then</B>
   <B>begin</B>
     <B>if</B> ParamStr (1) = <I>'date'</I> <B>then</B>
       writeln (FormatDateTime(
         <I>'&quot;Today is &quot; dddd, mmmm d, yyyy'</I>,
         Now))
     <B>else</B> <B>if</B> ParamStr (1) = <I>'time'</I> <B>then</B>
       writeln (FormatDateTime(
         <I>'&quot;The time is&quot; hh:mm:ss AM/PM'</I>,
         Now))
     <B>else</B> <B>if</B> ParamStr (1) = <I>'both'</I> <B>then</B>
       writeln (FormatDateTime(
         <I>'&quot;Today is &quot; dddd, mmmm d, yyyy,'</I> +
           <I>'&quot;&lt;p&gt; and the time is&quot; hh:mm:ss AM/PM'</I>,
         Now))
     <B>else</B>
       writeln (<I>'Error. Invalid parameter: '</I> +
         ParamStr (1) + <I>'.'</I>)
   <B>end</B>
   <B>else</B>
     writeln (<I>'Error. Missing parameter.'</I>);
   writeln (<I>'&lt;/H4&gt;'</I>);
   writeln (<I>'&lt;HR&gt;&lt;I&gt;Page generated by CgiDate.exe &lt;/I&gt;'</I>);
   writeln (<I>'&lt;/BODY&gt;&lt;/HTML&gt;'</I>);
 <B>end</B>.</PRE>
<HR>

<BR><I><CENTER>Copyright Marco Cant&ugrave; 1998</CENTER></I>
</BODY> </HTML>